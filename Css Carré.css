/* ---------- Covers légérement arrondies (8px) - NON MODIFIÉ depuis la dernière fois ---------- */
.Root__right-sidebar .cover-art,
.main-nowPlayingView-coverArtContainer .cover-art,
.main-nowPlayingView-coverArtContainer div[style*=background]{
  background:transparent!important;
  border-radius:8px!important;
  opacity:1!important;
}

.Root__right-sidebar .cover-art::after,
.Root__right-sidebar .cover-art::before,
.main-nowPlayingView-coverArtContainer .cover-art::after,
.main-nowPlayingView-coverArtContainer .cover-art::before{
  display:none!important;
  content:none!important;
}

.Root__right-sidebar img,
.main-nowPlayingView-coverArtContainer img{
  border-radius:8px!important;
  visibility:visible!important;
  opacity:1!important;
  display:block!important;
}

/* ---------- Now Playing Bar (Carrée mais arrondie) ---------- */

/* Le conteneur parent pour forcer l'isolation */
.Root__bottom-container {
    overflow: visible !important; /* Important pour ne pas cacher l'ombre */
}

/* Les conteneurs principaux de la barre de lecture */
.Root__now-playing-bar,
.main-nowPlayingBar-container,
.main-nowPlayingBar-container .main-nowPlayingBar-nowPlayingBar {
  border-radius:12px!important; /* arrondi léger */
  overflow:hidden!important;
  margin:12px!important;
  width:calc(100% - 24px)!important;
  box-shadow:0 10px 30px rgba(0,0,0,.5)!important;
  z-index:9999!important;
  backdrop-filter:blur(8px)!important;
  -webkit-backdrop-filter:blur(8px)!important;
  background-color:rgba(255,255,255,.08)!important;
  border:1px solid rgba(255,255,255,.1)!important;
  transition: border-radius 0.1s ease-out !important;
}

/* Cible le footer exact pour la redondance */
footer.main-nowPlayingBar-nowPlayingBar{
  border-radius:12px!important; /* arrondi léger */
}

.main-nowPlayingBar-left *{
  box-shadow:none!important;
  -webkit-box-shadow:none!important;
  filter:none!important;
  -webkit-filter:none!important;
}

.main-nowPlayingBar-left .main-coverSlot-container,
.main-nowPlayingBar-left .main-coverSlot-expanded{
  box-shadow:none!important;
  background:transparent!important;
}

.main-nowPlayingBar-left canvas{
  display:none!important;
}

.main-nowPlayingBar-left canvas[class*=cover],
.main-nowPlayingBar-left canvas[style*=transform]{
  display:block!important;
}

/* ---------- Library & cards (Inchagé) ---------- */
.main-yourLibraryX-listItemImage,
.main-yourLibraryX-listItemImage>div,
.x-entityImage-imageContainer{
  border-radius:8px!important;
  -webkit-mask-image:none!important;
  mask-image:none!important;
  background-color:transparent!important;
  overflow:hidden!important;
}

.main-yourLibraryX-listItemImage img,
.x-entityImage-image{
  border-radius:8px!important;
  -webkit-mask-image:none!important;
  mask-image:none!important;
  border:none!important;
  width:100%!important;
  height:100%!important;
  aspect-ratio:1/1!important;
  object-fit:cover!important;
}

/* Désactive les arrondis automatiques forçant le 50% */
[class*=rounded-full],
[style*="border-radius: 50%"]{
  border-radius:8px!important;
}

/* ---------- Containers (Inchagé) ---------- */
.Root__main-view,
.Root__nav-bar,
.Root__right-sidebar,
.os-host-overflow,
.os-padding,
div[data-testid=main-view-container]{
  border-radius:24px!important;
  overflow:hidden!important;
}

.main-card-card,
.main-cardImage-imageWrapper,
.view-home-shortcut{
  border-radius:12px!important;
  overflow:hidden!important;
}

/* ---------- Variables Spotify (Inchagé) ---------- */
:root{
  --spice-card:var(--spice-main-elevated)!important;
}
